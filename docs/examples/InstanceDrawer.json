{"_font":{"default":true,"value":""},"version":1.3,"file":[{"jsfile":{"data":"this.shown.pos = [0, 0];this.shown.z = 50;this.alwaysDraw = true;this.init = function (params) {this.cam = createCamera();this.sprites[0].reloadImage();window.test = this.cam;player.godMode = true;window.exampleInst = true;_InstanceDrawer.enableTexture(engine.activeScene.boxes[0].sprite);};this.update = function (params) {if (keyIsDown(70)) {this.cam.pan(0.01);} else if (keyIsDown(72)) {this.cam.pan(-0.01);}if (keyIsDown(84)) {this.cam.tilt(-0.01);} else if (keyIsDown(71)) {this.cam.tilt(0.01);} /*A:65;S:83,D:68,W:87*/if (keyIsDown(65)) {this.cam.move(-2, 0, 0);}if (keyIsDown(83)) {this.cam.move(0, 0, 2);}if (keyIsDown(87)) {this.cam.move(0, 0, -2);}if (keyIsDown(68)) {this.cam.move(2, 0, 0);}if (keyIsDown(16)) {test.eyeY += 3;test.centerY += 3;test.setPosition(test.eyeX, test.eyeY, test.eyeZ);}if (keyIsDown(32)) {test.eyeY -= 3;test.centerY -= 3;test.setPosition(test.eyeX, test.eyeY, test.eyeZ);}};this.keyPressed = function name(params) {console.log(keyCode);};this.draw = function (params) {push();rotateX(PI / 2);ambientMaterial(175, 0, 255); /*plane(500, 500);*/pop();if (Boolean(window?.editor)) {return;}push();rotateZ(millis() / 1000);rotateY(millis() / 1000);rotateZ(millis() / 1000);normalMaterial();strokeWeight(1);box(50);let points = [p5.instance._renderer.uMVMatrix.multiplyVec4(-25, -25, -25, 1),p5.instance._renderer.uMVMatrix.multiplyVec4(-25, -25, 25, 1),p5.instance._renderer.uMVMatrix.multiplyVec4(-25, 25, 25, 1),p5.instance._renderer.uMVMatrix.multiplyVec4(-25, 25, -25, 1),p5.instance._renderer.uMVMatrix.multiplyVec4(25, -25, -25, 1),p5.instance._renderer.uMVMatrix.multiplyVec4(25, -25, 25, 1),p5.instance._renderer.uMVMatrix.multiplyVec4(25, 25, 25, 1),p5.instance._renderer.uMVMatrix.multiplyVec4(25, 25, -25, 1),];pop();let All = [];for (let point of points) {let inverse = new DOMMatrix(p5.instance._renderer.uMVMatrix.mat4).inverse();let newPointRotated = inverse.transformPoint(new DOMPoint(...point));All.push(newPointRotated);}let s = createVector(Infinity, Infinity, Infinity);let b = createVector(-Infinity, -Infinity, -Infinity);for (let i of All) {s.x = min(i.x, s.x);s.y = min(i.y, s.y);s.z = min(i.z, s.z);b.x = max(i.x, b.x);b.y = max(i.y, b.y);b.z = max(i.z, b.z);}stroke(255, 0, 0);strokeWeight(5);line(s.x, s.y, s.z, s.x, s.y, b.z);line(s.x, s.y, s.z, b.x, s.y, s.z);line(s.x, b.y, s.z, b.x, b.y, s.z);line(s.x, b.y, s.z, s.x, b.y, b.z);line(s.x, b.y, s.z, s.x, s.y, s.z);line(s.x, b.y, b.z, b.x, b.y, b.z);line(s.x, b.y, b.z, s.x, s.y, b.z);line(b.x, b.y, s.z, b.x, s.y, s.z);line(b.x, b.y, b.z, b.x, s.y, b.z);line(b.x, s.y, s.z, b.x, s.y, b.z);line(b.x, b.y, s.z, b.x, b.y, b.z);line(s.x, s.y, b.z, b.x, s.y, b.z);fill(0, 0, 255, 125);beginShape(QUADS);vertex(s.x, s.y, b.z);vertex(b.x, s.y, b.z);vertex(b.x, s.y, s.z);vertex(s.x, s.y, s.z);endShape(CLOSE);beginShape(QUADS);vertex(s.x, b.y, b.z);vertex(b.x, b.y, b.z);vertex(b.x, b.y, s.z);vertex(s.x, b.y, s.z);endShape(CLOSE);beginShape(QUADS);vertex(s.x, b.y, s.z);vertex(s.x, b.y, b.z);vertex(s.x, s.y, b.z);vertex(s.x, s.y, s.z);endShape(CLOSE);beginShape(QUADS);vertex(b.x, b.y, s.z);vertex(b.x, b.y, b.z);vertex(b.x, s.y, b.z);vertex(b.x, s.y, s.z);endShape(CLOSE);beginShape(QUADS);vertex(s.x, b.y, s.z);vertex(b.x, b.y, s.z);vertex(b.x, s.y, s.z);vertex(s.x, s.y, s.z);endShape(CLOSE);beginShape(QUADS);vertex(s.x, b.y, b.z);vertex(b.x, b.y, b.z);vertex(b.x, s.y, b.z);vertex(s.x, s.y, b.z);endShape(CLOSE);if (frameCount < 200) console.log(All);this.cam ??= createCamera();window.test = this.cam;};","type":".js","references":{}}},{"jsfile0":{"data":"","type":".js","references":{}}},{"jsfile1":{"data":"this.init = function (params) {player = {update: () => {},lateUpdate: () => {},camera: () => {},checkCollisions: () => {},display: () => {},};};this.update = function (params) {let test = createVector(engine.mouseScreen().x,engine.mouseScreen().y,engine.mouseScreen().z);this.x = test.x;this.y = test.y;push();noStroke();normalMaterial();translate(this.x, this.y, test.z);rotateY(millis() / 2000); /*box(50, 50, 50, 1, 1);*/pop();ambientLight(255); /*pointLight(255, 255, 255, this.x, this.y, -test.z);*/};this.draw = function () {return 1;};","type":".js","references":{}}},{"imgfile":{"data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIAQMAAABvIyEEAAAABlBMVEUAAABTU1OoaSf/AAAAAXRSTlMAQObYZgAAAGxJREFUeF7tyMEJwkAQRuFf5ipMKxYQiJ3Z2nSwrWwBA0+DQZcdxEOueaePp9+dQZFB7GpUcURSVU66yVNFj6LFICatThZB6r/ko/pbRpUgilY0Cbw5sNmb9txGXUKyuH7eV25x39DtJXUNPQGJtWFV+BT/QAAAAABJRU5ErkJggg==","type":".img","references":{}}}],"scenes":{"0":{"Data":[[0,227,106,500,50],[0,-18,94,80,76]],"sceneData":[0,0,-10,500],"componentData":[{"0":[{"name":"gameScript","params":{"fileUUID":"jsfile","vals":{"pos":[227,106],"z":0}}},{"name":"gameSprite","params":{"src":{},"fileUUID":"imgfile"}}],"1":[{"name":"gameScript","params":{"fileUUID":"jsfile1","vals":{}}}]}]}},"GUI":{"default":true}}